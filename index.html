<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>خدمة - منصة مقدمي الخدمات</title>

  <!-- خط عربي Tajawal -->
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@400;700&display=swap" rel="stylesheet">

  <!-- ملف التنسيقات -->
  <link rel="stylesheet" href="style.css">

  <!-- PWA Manifest -->
  <link rel="manifest" href="manifest.json">
</head>
<body>
  <div class="hero">
    <h1>منصة خدمة</h1>
    <p>ابحث عن مقدمي الخدمات وسجّل كمقدّم خدمة بسهولة</p>
    <button onclick="showSearch()">🔍 ابحث عن خدمة</button>
    <button onclick="showRegisterForm()">📝 سجل كمقدم خدمة</button>
  </div>

  <!-- قسم البحث -->
  <section id="servicesGrid" class="search-section" style="display:none;">
    <input type="text" id="searchInput" placeholder="ابحث بالاسم أو الموقع">
    <select id="categorySelect">
      <option value="">اختر الفئة</option>
      <option value="electricity">كهرباء</option>
      <option value="plumbing">سباكة</option>
      <option value="mechanics">ميكانيكا</option>
      <option value="carpentry">نجارة</option>
      <option value="crafts">حرف يدوية</option>
      <option value="cleaning">تنظيف</option>
      <option value="painting">دهان</option>
      <option value="gardening">بستنة</option>
    </select>
    <div id="providersSection" style="display:none;">
      <div id="providersContainer"></div>
    </div>
  </section>

  <!-- قسم التسجيل -->
  <section id="registerSection" style="display:none;">
    <h2>تسجيل مقدم خدمة</h2>
    <form id="registerForm">
      <input type="text" id="providerName" placeholder="الاسم" required>
      <input type="text" id="providerPhone" placeholder="رقم الهاتف" required>
      <input type="email" id="providerEmail" placeholder="البريد الإلكتروني">
      <input type="text" id="providerLocation" placeholder="الموقع" required>
      <select id="providerCategory" required>
        <option value="">اختر الفئة</option>
        <option value="electricity">كهرباء</option>
        <option value="plumbing">سباكة</option>
        <option value="mechanics">ميكانيكا</option>
        <option value="carpentry">نجارة</option>
        <option value="crafts">حرف يدوية</option>
        <option value="cleaning">تنظيف</option>
        <option value="painting">دهان</option>
        <option value="gardening">بستنة</option>
      </select>
      <input type="number" id="providerExperience" placeholder="سنوات الخبرة">
      <textarea id="providerDescription" placeholder="وصف الخدمة" required></textarea>
      <button type="submit">تسجيل</button>
    </form>
  </section>

  <!-- نافذة التواصل -->
  <div id="contactModal" class="modal" style="display:none;">
    <div class="modal-content">
      <span onclick="closeContactModal()" class="close">&times;</span>
      <div id="contactInfo"></div>
    </div>
  </div>
<button class="search-btn" onclick="showSearch()">🔍 ابحث عن خدمة</button>
<button class="register-btn" onclick="showRegisterForm()">📝 سجل كمقدم خدمة</button>
  <!-- كود جافاسكربت -->
  <script src="app.js"></script>
</body>
<head>
  <meta charset="UTF-8">
  <title>Firebase Web + App Check</title>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-check.js"></script>
</head>
<body>
  <h1>موقعي مع Firebase</h1>
  <div id="output"></div>

  <script>
    // ⚠️ انسخ بيانات التهيئة من Firebase Console -> Project settings -> Config
    const firebaseConfig = {
      apiKey: "YOUR_API_KEY",
      authDomain: "khidma-platform-f457.firebaseapp.com",
      databaseURL: "https://khidma-platform-f457.firebaseio.com",
      projectId: "khidma-platform-f457",
      storageBucket: "khidma-platform-f457.appspot.com",
      messagingSenderId: "YOUR_SENDER_ID",
      appId: "YOUR_APP_ID"
    };

    // ✅ تهيئة Firebase
    const app = firebase.initializeApp(firebaseConfig);
    const db = firebase.database(app);

    // ✅ تفعيل App Check مع reCAPTCHA v3
    const appCheck = firebase.appCheck();
    appCheck.activate(
      "YOUR_RECAPTCHA_SITE_KEY", // استبدلها بمفتاح reCAPTCHA من Google
      true // للتجديد التلقائي للتوكن
    );

    // ✅ مثال: قراءة بيانات من قاعدة البيانات
    const output = document.getElementById("output");
    db.ref("services").on("value", (snapshot) => {
      output.innerHTML = JSON.stringify(snapshot.val(), null, 2);
    });

    // ✅ مثال: إضافة بيانات جديدة
    function addService() {
      const newRef = db.ref("services").push();
      newRef.set({
        title: "خدمة تجريبية",
        description: "هذه خدمة تمت إضافتها من الموقع",
        price: 100
      });
    }

    // تجربة الكتابة بعد 5 ثوانٍ
    setTimeout(addService, 5000);
  </script>
<body>
<head>
</html>
